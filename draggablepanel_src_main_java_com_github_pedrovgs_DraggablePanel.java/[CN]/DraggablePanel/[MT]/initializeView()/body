{
  checkFragmentConsistency();
  checkSupportFragmentManagerConsistency();
  inflate(getContext(),R.layout.draggable_panel,this);
  draggableView=(DraggableView)findViewById(R.id.draggable_view);
  draggableView.setTopViewHeight(topFragmentHeight);
  draggableView.setFragmentManager(fragmentManager);
  draggableView.attachTopFragment(topFragment);
  draggableView.setXTopViewScaleFactor(xScaleFactor);
  draggableView.setYTopViewScaleFactor(yScaleFactor);
  draggableView.setTopViewMarginRight(topFragmentMarginRight);
  draggableView.setTopViewMarginBottom(topFragmentMarginBottom);
  draggableView.attachBottomFragment(bottomFragment);
  draggableView.setDraggableListener(draggableListener);
  draggableView.setHorizontalAlphaEffectEnabled(enableHorizontalAlphaEffect);
  draggableView.setClickToMaximizeEnabled(enableClickToMaximize);
  draggableView.setClickToMinimizeEnabled(enableClickToMinimize);
  draggableView.setEnableTouchListener(enableTouchListener);
}
