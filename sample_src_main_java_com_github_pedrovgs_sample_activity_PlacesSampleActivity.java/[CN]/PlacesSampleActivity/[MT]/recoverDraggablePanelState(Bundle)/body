{
  if (savedInstanceState.getSerializable(DRAGGABLE_PANEL_STATE) == null) {
    draggablePanel.setVisibility(View.GONE);
    return;
  }
  Handler handler=new Handler();
  final DraggablePanelState draggablePanelState=(DraggablePanelState)savedInstanceState.getSerializable(DRAGGABLE_PANEL_STATE);
switch (draggablePanelState) {
case MAXIMIZED:
    handler.postDelayed(new Runnable(){
      @Override public void run(){
        draggablePanel.maximize();
      }
    }
,100);
  break;
case MINIMIZED:
handler.postDelayed(new Runnable(){
  @Override public void run(){
    draggablePanel.minimize();
  }
}
,100);
break;
case CLOSED_AT_LEFT:
handler.postDelayed(new Runnable(){
@Override public void run(){
draggablePanel.closeToLeft();
}
}
,100);
break;
case CLOSED_AT_RIGHT:
handler.postDelayed(new Runnable(){
@Override public void run(){
draggablePanel.closeToRight();
}
}
,100);
break;
default :
draggablePanel.setVisibility(View.GONE);
break;
}
}
