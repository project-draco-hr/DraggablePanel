{
  checkFragmentConsistency();
  checkSupportFragmentmanagerConsistency();
  inflate(getContext(),R.layout.draggable_panel,this);
  draggableView=(DraggableView)findViewById(R.id.draggableView);
  draggableView.setTopViewHeight(topFragmentHeight);
  draggableView.setFragmentManager(fragmentManager);
  draggableView.attachTopFragment(topFragment);
  draggableView.setBackground(getBackground());
  setBackground(null);
  draggableView.setTopViewScaleFactor(scaleFactor);
  draggableView.setTopViewMarginRight(topFragmentMarginRight);
  draggableView.setTopViewMarginBottom(topFragmentMarginBottom);
  draggableView.attachBottomFragment(bottomFragment);
  draggableView.setDraggableListener(draggableListener);
}
