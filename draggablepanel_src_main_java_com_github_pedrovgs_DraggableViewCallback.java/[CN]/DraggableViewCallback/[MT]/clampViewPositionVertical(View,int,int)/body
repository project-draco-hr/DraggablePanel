{
  int newTop=draggableView.getHeight() - capturedView.getHeight();
  if (draggableView.isMinimized() && Math.abs(dy) >= MINIMUM_DY_FOR_VERTICAL_DRAG || (!draggableView.isMinimized() && !draggableView.isDragViewAtBottom())) {
    final int topBound=draggableView.getPaddingTop();
    final int bottomBound=draggableView.getHeight() - child.getHeight() - child.getPaddingBottom();
    newTop=Math.min(Math.max(top,topBound),bottomBound);
  }
  return newTop;
}
