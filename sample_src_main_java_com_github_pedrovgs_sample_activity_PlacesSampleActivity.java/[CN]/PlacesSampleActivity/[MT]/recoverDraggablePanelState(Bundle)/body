{
  final DraggablePanelState draggablePanelState=(DraggablePanelState)savedInstanceState.getSerializable(DRAGGABLE_PANEL_STATE);
  if (draggablePanelState == null) {
    draggablePanel.setVisibility(View.GONE);
    return;
  }
  Handler handler=new Handler();
switch (draggablePanelState) {
case MAXIMIZED:
    handler.postDelayed(new Runnable(){
      @Override public void run(){
        draggablePanel.maximize();
      }
    }
,50);
  break;
case MINIMIZED:
handler.postDelayed(new Runnable(){
  @Override public void run(){
    draggablePanel.minimize();
  }
}
,50);
break;
case CLOSED_AT_LEFT:
handler.postDelayed(new Runnable(){
@Override public void run(){
draggablePanel.setVisibility(View.GONE);
draggablePanel.closeToLeft();
}
}
,50);
break;
case CLOSED_AT_RIGHT:
handler.postDelayed(new Runnable(){
@Override public void run(){
draggablePanel.setVisibility(View.GONE);
draggablePanel.closeToRight();
}
}
,50);
break;
default :
draggablePanel.setVisibility(View.GONE);
break;
}
}
