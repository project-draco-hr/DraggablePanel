{
  int newTop;
  if (isMinimized() && (dy >= MINIMUM_DY_FOR_VERTICAL_DRAG || dy >= -MINIMUM_DY_FOR_VERTICAL_DRAG) || (!isMinimized() && !isDragViewAtBottom())) {
    final int topBound=getPaddingTop();
    final int bottomBound=getHeight() - child.getHeight() - child.getPaddingBottom();
    newTop=Math.min(Math.max(top,topBound),bottomBound);
  }
 else {
    newTop=getHeight() - dragView.getHeight();
  }
  return newTop;
}
