{
  final int action=MotionEventCompat.getActionMasked(ev);
  if ((action != MotionEvent.ACTION_DOWN)) {
    viewDragHelper.cancel();
    return super.onInterceptTouchEvent(ev);
  }
  if (action == MotionEvent.ACTION_CANCEL || action == MotionEvent.ACTION_UP) {
    viewDragHelper.cancel();
    return false;
  }
  final float x=ev.getX();
  final float y=ev.getY();
  boolean interceptTap=false;
switch (action) {
case MotionEvent.ACTION_DOWN:
{
      initialMotionX=x;
      initialMotionY=y;
      interceptTap=viewDragHelper.isViewUnder(dragView,(int)x,(int)y);
      break;
    }
case MotionEvent.ACTION_MOVE:
{
    final float adx=Math.abs(x - initialMotionX);
    final float ady=Math.abs(y - initialMotionY);
    final int slop=viewDragHelper.getTouchSlop();
    if (ady > slop && adx > ady) {
      viewDragHelper.cancel();
      return false;
    }
  }
}
return viewDragHelper.shouldInterceptTouchEvent(ev) || interceptTap;
}
